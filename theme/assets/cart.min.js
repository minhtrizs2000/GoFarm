(()=>{var s=document.querySelectorAll(".cart-item__quantity .button-minus"),_=document.querySelectorAll(".cart-item__quantity .button-plus"),o=document.querySelectorAll(".cart-item__quantity .product-qty"),p=document.querySelector(".cart-heading__counter"),d=document.querySelectorAll(".cart-item__final-price"),m=document.querySelectorAll(".cart-item__compare-price"),y=document.querySelectorAll(".cart-item__subtotal-price"),q=document.querySelectorAll(".cart-item__subtotal-compare"),f=document.querySelectorAll(".cart-wrapper .remove-icon"),i=document.querySelector(".cart-total .list__subtotal-value"),l=document.querySelector(".cart-total .list__total-value");s.forEach(function(c,t){c.addEventListener("click",function(){let n=this.parentElement;var r=parseInt(o[t].value),e=r-1;e>=0&&$.ajax({type:"POST",url:"/cart/change.js",dataType:"json",data:{id:n.dataset.key,quantity:e},success:function(a){u(a,t,e)},error:function(a){console.log(a)}})})});_.forEach(function(c,t){c.addEventListener("click",function(){let n=this.parentElement;var r=parseInt(o[t].value),e=r+1;$.ajax({type:"POST",url:"/cart/change.js",dataType:"json",data:{id:n.dataset.key,quantity:e},success:function(a){u(a,t,e)},error:function(a){console.log(a)}})})});f.forEach(c=>{c.addEventListener("click",function(t){var n=this.dataset.index,r=this.dataset.id;t.preventDefault(),$.ajax({type:"POST",url:"/cart/change.js",dataType:"json",data:{id:r,quantity:0},success:function(e){$(".cart-wrapper").find(`tbody tr:nth-child(${n})`).remove(),i.innerText="$"+e.items_subtotal_price/100,l.innerText="$"+e.total_price/100,$(".cart-wrapper .cart-heading__counter").text(`(${e.item_count})`)},error:function(e){console.log(e)}})})});function u(c,t,n){o[t].value=n,p.innerText=`(${c.item_count})`,y[t].innerText="$"+d[t].innerText.slice(1)*n,q[t].innerText="$"+m[t].innerText.slice(1)*n,i.innerText="$"+c.items_subtotal_price/100,l.innerText="$"+c.total_price/100}})();
